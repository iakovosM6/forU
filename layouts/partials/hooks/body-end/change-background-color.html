<script>
  function applyTheme() {
    let isDark = document.documentElement.classList.contains('dark');
    let bg = document.getElementById('page-bg') || document.body;

    if (isDark) {
      bg.style.background = '#0a0a0a'; // Midnight black
      bg.style.color = '#ffffff';
    } else {
      bg.style.background = '#ffffff'; // White
      bg.style.color = '#000000';
    }
  }

  document.addEventListener('DOMContentLoaded', applyTheme);
  document.addEventListener('hbThemeChange', (e) => {
    document.documentElement.classList.toggle('dark', e.detail.isDarkTheme());
    applyTheme();
  });
</script>